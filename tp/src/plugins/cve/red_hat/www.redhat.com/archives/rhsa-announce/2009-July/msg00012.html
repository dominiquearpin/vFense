<!-- MHonArc v2.6.12 -->
<!--X-Subject: [RHSA&#45;2009:1157&#45;01] Important: kernel&#45;rt security and bug fix update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Tue, 14 Jul 2009 15:48:51 &#45;0400 -->
<!--X-Message-Id: 200907141948.n6EJmoGl015026@int&#45;mx1.corp.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2009:1157-01] Important: kernel-rt security and bug fix update</TITLE>
<LINK REV="made" HREF="mailto:bugzilla@redhat.com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00011.html">Date Prev</a>][<a href="msg00014.html">Date Next</a>] &nbsp; [<a href="msg00011.html">Thread Prev</a>][<a href="msg00014.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00012">Thread Index</A>]
[<A HREF="date.html#00012">Date Index</A>]
[<A HREF="author.html#00012">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2009:1157-01] Important: kernel-rt security and bug fix update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Cc</em>: </li>
<li><em>Subject</em>: [RHSA-2009:1157-01] Important: kernel-rt security and bug fix update</li>
<li><em>Date</em>: Tue, 14 Jul 2009 15:48:50 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Important: kernel-rt security and bug fix update
Advisory ID:       RHSA-2009:1157-01
Product:           Red Hat Enterprise MRG for RHEL-5
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2009-1157.html">https://rhn.redhat.com/errata/RHSA-2009-1157.html</a>
Issue date:        2009-07-14
CVE Names:         CVE-2009-1385 CVE-2009-1389 CVE-2009-1630 
                   CVE-2009-1633 CVE-2009-1961 
=====================================================================

1. Summary:

Updated kernel-rt packages that fix several security issues and various
bugs are now available for Red Hat Enterprise MRG 1.1.

This update has been rated as having important security impact by the Red
Hat Security Response Team.

2. Relevant releases/architectures:

MRG Realtime for RHEL 5 Server - i386, noarch, x86_64

3. Description:

The kernel-rt packages contain the Linux kernel, the core of any Linux
operating system.

Security fixes:

* a flaw was found in the Intel PRO/1000 network driver in the Linux
kernel. Frames with sizes near the MTU of an interface may be split across
multiple hardware receive descriptors. Receipt of such a frame could leak
through a validation check, leading to a corruption of the length check. A
remote attacker could use this flaw to send a specially-crafted packet that
would cause a denial of service or code execution. (CVE-2009-1385,
Important)

* Michael Tokarev reported a flaw in the Realtek r8169 Ethernet driver in
the Linux kernel. This driver allowed interfaces using this driver to
receive frames larger than what could be handled. This could lead to a
remote denial of service or code execution. (CVE-2009-1389, Important)

* several flaws were found in the way the Linux kernel CIFS implementation
handles Unicode strings. CIFS clients convert Unicode strings sent by a
server to their local character sets, and then write those strings into
memory. If a malicious server sent a long enough string, it could write
past the end of the target memory region and corrupt other memory areas,
possibly leading to a denial of service or privilege escalation on the
client mounting the CIFS share. (CVE-2009-1633, Important)

* Frank Filz reported the NFSv4 client was missing a file permission check
for the execute bit in some situations. This could allow local,
unprivileged users to run non-executable files on NFSv4 mounted file
systems. (CVE-2009-1630, Moderate)

* a deadlock flaw was found in the Linux kernel splice implementation. This
deadlock could occur during interactions between the
generic_file_splice_write() and splice_from_pipe() functions, possibly
leading to a partial denial of service on the file system partition where
the deadlock occurs. (CVE-2009-1961, Moderate)

Bug fixes:

* a stack buffer used by get_event_name() was not large enough to
accommodate the nul terminator that sprintf() writes. In some cases, this
could lead to an invalid pointer or a kernel panic. With this update, the
function is modified to allow space for the nul terminator. (BZ#503902)

* free_bootmem() was hard-coded to use node 0. This could have caused a
kernel panic during boot on a NUMA system that happens to boot on a node
other than node 0. With this update, free_bootmem() acts on the current
node, resolving this issue. (BZ#503048)

* CPU flag mishandling caused TSC clocksource synchronization to fail (TSC
was marked unstable) on the Intel® microarchitecture (Nehalem). In
addition, TSC clocksource checks added to the 64-bit kernel code are now
present for i386 systems. Also, &quot;/proc/cpuinfo&quot; now shows TSC-related
flags. (BZ#50289, BZ#508756)

* barriers are used to make sure delayed work requested from threads is
processed before continuing. run_workqueue(), however, exited before
processing all barriers, causing threads to wait forever. In a reported
case, this bug caused missing path issues for Device Mapper Multipathing.
(BZ#504133)

* calling pipe() with an invalid address caused a file descriptor leak.
(BZ#509629)

* the code to add &quot;/dev/rtc&quot; contained a printk statement without a log
level prefix. (BZ#510099)

* an extra check has been added to the realtime kernel to avoid a rare
corruption of the FPU (Floating Point Unit) stack, which could occur if a
task using FPU registers was preempted by an interruption. (BZ#509359)

* fix a boot-up problem on HP ProLiant SL2x170z G6 and similar systems by
adding Intel ICH10 controllers back to the ata_piix driver. (BZ#508783)

* converts a UID comparison in AGP to a more secure capability check. By
default, &quot;/dev/agpgart&quot; is accessible only to the root user. (BZ#505493)

Users should upgrade to these updated packages, which contain backported
patches to correct these issues. The system must be rebooted for this
update to take effect.

4. Solution:

Before applying this update, make sure that all previously-released
errata relevant to your system have been applied.

This update is available via Red Hat Network.  Details on how to use
the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="http://kbase.redhat.com/faq/docs/DOC-11259">http://kbase.redhat.com/faq/docs/DOC-11259</a>

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

496572 - CVE-2009-1633 kernel: cifs: fix potential buffer overruns when converting unicode strings sent by server
500297 - CVE-2009-1630 kernel: nfs: fix NFS v4 client handling of MAY_EXEC in nfs_permission
502893 - TSC synchronisation fails on Nehalem
502981 - CVE-2009-1385 kernel: e1000_clean_rx_irq() denial of service
503048 - LS21 do not boot RT enabled kernels (not APIC issue) - ibm-ls21-7972-01.rhts.bos.redhat.com
503474 - CVE-2009-1961 kernel: splice local denial of service
503902 - kernel: TPM: get_event_name stack corruption [mrg-1]
504133 - /sbin/multipath threads are waiting forever
504726 - CVE-2009-1389 kernel: r8169: fix crash when large packets are received
505493 - kernel: agp: remove uid comparison as security check [mrg-1]
509629 - kernel: fd leak if pipe() is called with an invalid address [mrg-1]
510099 - printk in rtc-dev.c missing a loglevel prefix

6. Package List:

MRG Realtime for RHEL 5 Server:

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/RHEMRG/SRPMS/kernel-rt-2.6.24.7-126.el5rt.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/RHEMRG/SRPMS/kernel-rt-2.6.24.7-126.el5rt.src.rpm</a>

i386:
kernel-rt-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-debug-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-debug-debuginfo-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-debug-devel-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-debuginfo-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-debuginfo-common-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-devel-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-trace-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-trace-debuginfo-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-trace-devel-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-vanilla-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-vanilla-debuginfo-2.6.24.7-126.el5rt.i686.rpm
kernel-rt-vanilla-devel-2.6.24.7-126.el5rt.i686.rpm

noarch:
kernel-rt-doc-2.6.24.7-126.el5rt.noarch.rpm

x86_64:
kernel-rt-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-debug-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-debug-debuginfo-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-debug-devel-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-debuginfo-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-debuginfo-common-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-devel-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-trace-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-trace-debuginfo-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-trace-devel-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-vanilla-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-vanilla-debuginfo-2.6.24.7-126.el5rt.x86_64.rpm
kernel-rt-vanilla-devel-2.6.24.7-126.el5rt.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and 
details on how to verify the signature are available from
<a  rel="nofollow" href="https://www.redhat.com/security/team/key/#package">https://www.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1385">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1385</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1389">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1389</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1630">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1630</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1633">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1633</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1961">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2009-1961</a>
<a  rel="nofollow" href="http://www.redhat.com/security/updates/classification/#important">http://www.redhat.com/security/updates/classification/#important</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://www.redhat.com/security/team/contact/">https://www.redhat.com/security/team/contact/</a>

Copyright 2009 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFKXOEbXlSAg2UNWIIRAienAJsFFF0nnHSUYZwOAizwhTomZuC8lACfdOhU
j43/04K6FWiQm8jdr1g6bFo=
=woBz
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00011.html">Date Prev</a>][<a href="msg00014.html">Date Next</a>] &nbsp; [<a href="msg00011.html">Thread Prev</a>][<a href="msg00014.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00012">Thread Index</A>]
[<A HREF="date.html#00012">Date Index</A>]
[<A HREF="author.html#00012">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>

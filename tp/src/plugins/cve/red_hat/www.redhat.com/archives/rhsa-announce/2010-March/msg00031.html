<!-- MHonArc v2.6.16 -->
<!--X-Subject: [RHSA&#45;2010:0198&#45;04] Moderate: openldap security and bug fix update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Tue, 30 Mar 2010 12:59:54 &#45;0400 -->
<!--X-Message-Id: 201003301659.o2UGxm0t002251@int&#45;mx08.intmail.prod.int.phx2.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2010:0198-04] Moderate: openldap security and bug fix update</TITLE>
<LINK REV="made" HREF="mailto:bugzilla redhat com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00030.html">Date Prev</a>][<a href="msg00032.html">Date Next</a>] &nbsp; [<a href="msg00030.html">Thread Prev</a>][<a href="msg00032.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00031">Thread Index</A>]
[<A HREF="date.html#00031">Date Index</A>]
[<A HREF="author.html#00031">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2010:0198-04] Moderate: openldap security and bug fix update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Subject</em>: [RHSA-2010:0198-04] Moderate: openldap security and bug fix update</li>
<li><em>Date</em>: Tue, 30 Mar 2010 12:59:47 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Moderate: openldap security and bug fix update
Advisory ID:       RHSA-2010:0198-04
Product:           Red Hat Enterprise Linux
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2010-0198.html">https://rhn.redhat.com/errata/RHSA-2010-0198.html</a>
Issue date:        2010-03-30
CVE Names:         CVE-2009-3767 
=====================================================================

1. Summary:

Updated openldap packages that fix one security issue and several bugs are
now available for Red Hat Enterprise Linux 5.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

2. Relevant releases/architectures:

RHEL Desktop Workstation (v. 5 client) - i386, x86_64
Red Hat Enterprise Linux (v. 5 server) - i386, ia64, ppc, s390x, x86_64
Red Hat Enterprise Linux Desktop (v. 5 client) - i386, x86_64

3. Description:

OpenLDAP is an open source suite of LDAP (Lightweight Directory Access
Protocol) applications and development tools.

A flaw was found in the way OpenLDAP handled NUL characters in the
CommonName field of X.509 certificates. An attacker able to get a
carefully-crafted certificate signed by a trusted Certificate Authority
could trick applications using OpenLDAP libraries into accepting it by
mistake, allowing the attacker to perform a man-in-the-middle attack.
(CVE-2009-3767)

This update also fixes the following bugs:

* the ldap init script did not provide a way to alter system limits for the
slapd daemon. A variable is now available in &quot;/etc/sysconfig/ldap&quot; for this
option. (BZ#527313)

* applications that use the OpenLDAP libraries to contact a Microsoft
Active Directory server could crash when a large number of network
interfaces existed. This update implements locks in the OpenLDAP library
code to resolve this issue. (BZ#510522)

* when slapd was configured to allow client certificates, approximately 90%
of connections froze because of a large CA certificate file and slapd not
checking the success of the SSL handshake. (BZ#509230)

* the OpenLDAP server would freeze for unknown reasons under high load.
These packages add support for accepting incoming connections by new
threads, resolving the issue. (BZ#507276)

* the compat-openldap libraries did not list dependencies on other
libraries, causing programs that did not specifically specify the libraries
to fail. Detection of the Application Binary Interface (ABI) in use on
64-bit systems has been added with this update. (BZ#503734)

* the OpenLDAP libraries caused applications to crash due to an unprocessed
network timeout. A timeval of -1 is now passed when NULL is passed to LDAP.
(BZ#495701)

* slapd could crash on a server under heavy load when using rwm overlay,
caused by freeing non-allocated memory during operation cleanup.
(BZ#495628)

* the ldap init script made a temporary script in &quot;/tmp/&quot; and attempted to
execute it. Problems arose when &quot;/tmp/&quot; was mounted with the noexec option.
The temporary script is no longer created. (BZ#483356)

* the ldap init script always started slapd listening on ldap:/// even if
instructed to listen only on ldaps:///. By correcting the init script, a
user can now select which ports slapd should listen on. (BZ#481003)

* the slapd manual page did not mention the supported options -V and -o.
(BZ#468206)

* slapd.conf had a commented-out option to load the syncprov.la module.
Once un-commented, slapd crashed at start-up because the module had already
been statically linked to OpenLDAP. This update removes &quot;moduleload
syncprov.la&quot; from slapd.conf, which resolves this issue. (BZ#466937)

* the migrate_automount.pl script produced output that was unsupported by
autofs. This is corrected by updating the output LDIF format for automount
records. (BZ#460331)

* the ldap init script uses the TERM signal followed by the KILL signal
when shutting down slapd. Minimal delay between the two signals could cause
the LDAP database to become corrupted if it had not finished saving its
state. A delay between the signals has been added via the &quot;STOP_DELAY&quot;
option in &quot;/etc/sysconfig/ldap&quot;. (BZ#452064)

* the migrate_passwd.pl migration script had a problem when number fields
contained only a zero. Such fields were considered to be empty, leading to
the attribute not being set in the LDIF output. The condition in
dump_shadow_attributes has been corrected to allow for the attributes to
contain only a zero. (BZ#113857)

* the migrate_base.pl migration script did not handle third level domains
correctly, creating a second level domain that could not be held by a
database with a three level base. This is now allowed by modifying the
migrate_base.pl script to generate only one domain. (BZ#104585)

Users of OpenLDAP should upgrade to these updated packages, which resolve
these issues.

4. Solution:

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="http://kbase.redhat.com/faq/docs/DOC-11259">http://kbase.redhat.com/faq/docs/DOC-11259</a>

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

104585 - migrate_base.pl broken with dc=X,dc=Y,dc=Z configuration
113857 - migrate_passwd.pl problems with '0' fields
460331 - openldap-server's migrate_automount.pl produces obsolete output
466937 - moduleload syncprov.la not found
468206 - slapd and slapcat : man pages details
481003 - Wrong init script : slapd always starts with option &quot;<a  rel="nofollow" href="ldap:///&quot">ldap:///&quot</a>;
483356 - /etc/init.d/ldap script assumes files in /tmp can be executed
495701 - LDAP queries fail entirely on a (temporarily) slow server
503734 - 64bit shared libs in compat-openldap do not link to other libs
509230 - ldaps fails if TLSVerifyClient=allow unless slapd is run with -d2
510522 - LDAP causes crashes when attempting to authenticate with Active Directory
530715 - CVE-2009-3767 OpenLDAP: Doesn't properly handle NULL character in subject Common Name
559520 - openldap cannot start when kerberos is enable, found by PES
562714 - openldap init script does not handle listen uris properly

6. Package List:

Red Hat Enterprise Linux Desktop (v. 5 client):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/openldap-2.3.43-12.el5.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/openldap-2.3.43-12.el5.src.rpm</a>

i386:
compat-openldap-2.3.43_2.2.29-12.el5.i386.rpm
openldap-2.3.43-12.el5.i386.rpm
openldap-clients-2.3.43-12.el5.i386.rpm
openldap-debuginfo-2.3.43-12.el5.i386.rpm

x86_64:
compat-openldap-2.3.43_2.2.29-12.el5.i386.rpm
compat-openldap-2.3.43_2.2.29-12.el5.x86_64.rpm
openldap-2.3.43-12.el5.i386.rpm
openldap-2.3.43-12.el5.x86_64.rpm
openldap-clients-2.3.43-12.el5.x86_64.rpm
openldap-debuginfo-2.3.43-12.el5.i386.rpm
openldap-debuginfo-2.3.43-12.el5.x86_64.rpm

RHEL Desktop Workstation (v. 5 client):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/openldap-2.3.43-12.el5.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/openldap-2.3.43-12.el5.src.rpm</a>

i386:
openldap-debuginfo-2.3.43-12.el5.i386.rpm
openldap-devel-2.3.43-12.el5.i386.rpm
openldap-servers-2.3.43-12.el5.i386.rpm
openldap-servers-overlays-2.3.43-12.el5.i386.rpm
openldap-servers-sql-2.3.43-12.el5.i386.rpm

x86_64:
openldap-debuginfo-2.3.43-12.el5.i386.rpm
openldap-debuginfo-2.3.43-12.el5.x86_64.rpm
openldap-devel-2.3.43-12.el5.i386.rpm
openldap-devel-2.3.43-12.el5.x86_64.rpm
openldap-servers-2.3.43-12.el5.x86_64.rpm
openldap-servers-overlays-2.3.43-12.el5.x86_64.rpm
openldap-servers-sql-2.3.43-12.el5.x86_64.rpm

Red Hat Enterprise Linux (v. 5 server):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/openldap-2.3.43-12.el5.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/openldap-2.3.43-12.el5.src.rpm</a>

i386:
compat-openldap-2.3.43_2.2.29-12.el5.i386.rpm
openldap-2.3.43-12.el5.i386.rpm
openldap-clients-2.3.43-12.el5.i386.rpm
openldap-debuginfo-2.3.43-12.el5.i386.rpm
openldap-devel-2.3.43-12.el5.i386.rpm
openldap-servers-2.3.43-12.el5.i386.rpm
openldap-servers-overlays-2.3.43-12.el5.i386.rpm
openldap-servers-sql-2.3.43-12.el5.i386.rpm

ia64:
compat-openldap-2.3.43_2.2.29-12.el5.i386.rpm
compat-openldap-2.3.43_2.2.29-12.el5.ia64.rpm
openldap-2.3.43-12.el5.i386.rpm
openldap-2.3.43-12.el5.ia64.rpm
openldap-clients-2.3.43-12.el5.ia64.rpm
openldap-debuginfo-2.3.43-12.el5.i386.rpm
openldap-debuginfo-2.3.43-12.el5.ia64.rpm
openldap-devel-2.3.43-12.el5.ia64.rpm
openldap-servers-2.3.43-12.el5.ia64.rpm
openldap-servers-overlays-2.3.43-12.el5.ia64.rpm
openldap-servers-sql-2.3.43-12.el5.ia64.rpm

ppc:
compat-openldap-2.3.43_2.2.29-12.el5.ppc.rpm
compat-openldap-2.3.43_2.2.29-12.el5.ppc64.rpm
openldap-2.3.43-12.el5.ppc.rpm
openldap-2.3.43-12.el5.ppc64.rpm
openldap-clients-2.3.43-12.el5.ppc.rpm
openldap-debuginfo-2.3.43-12.el5.ppc.rpm
openldap-debuginfo-2.3.43-12.el5.ppc64.rpm
openldap-devel-2.3.43-12.el5.ppc.rpm
openldap-devel-2.3.43-12.el5.ppc64.rpm
openldap-servers-2.3.43-12.el5.ppc.rpm
openldap-servers-overlays-2.3.43-12.el5.ppc.rpm
openldap-servers-sql-2.3.43-12.el5.ppc.rpm

s390x:
compat-openldap-2.3.43_2.2.29-12.el5.s390.rpm
compat-openldap-2.3.43_2.2.29-12.el5.s390x.rpm
openldap-2.3.43-12.el5.s390.rpm
openldap-2.3.43-12.el5.s390x.rpm
openldap-clients-2.3.43-12.el5.s390x.rpm
openldap-debuginfo-2.3.43-12.el5.s390.rpm
openldap-debuginfo-2.3.43-12.el5.s390x.rpm
openldap-devel-2.3.43-12.el5.s390.rpm
openldap-devel-2.3.43-12.el5.s390x.rpm
openldap-servers-2.3.43-12.el5.s390x.rpm
openldap-servers-overlays-2.3.43-12.el5.s390x.rpm
openldap-servers-sql-2.3.43-12.el5.s390x.rpm

x86_64:
compat-openldap-2.3.43_2.2.29-12.el5.i386.rpm
compat-openldap-2.3.43_2.2.29-12.el5.x86_64.rpm
openldap-2.3.43-12.el5.i386.rpm
openldap-2.3.43-12.el5.x86_64.rpm
openldap-clients-2.3.43-12.el5.x86_64.rpm
openldap-debuginfo-2.3.43-12.el5.i386.rpm
openldap-debuginfo-2.3.43-12.el5.x86_64.rpm
openldap-devel-2.3.43-12.el5.i386.rpm
openldap-devel-2.3.43-12.el5.x86_64.rpm
openldap-servers-2.3.43-12.el5.x86_64.rpm
openldap-servers-overlays-2.3.43-12.el5.x86_64.rpm
openldap-servers-sql-2.3.43-12.el5.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and 
details on how to verify the signature are available from
<a  rel="nofollow" href="https://www.redhat.com/security/team/key/#package">https://www.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="https://www.redhat.com/security/data/cve/CVE-2009-3767.html">https://www.redhat.com/security/data/cve/CVE-2009-3767.html</a>
<a  rel="nofollow" href="http://www.redhat.com/security/updates/classification/#moderate">http://www.redhat.com/security/updates/classification/#moderate</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://www.redhat.com/security/team/contact/">https://www.redhat.com/security/team/contact/</a>

Copyright 2010 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFLsi3mXlSAg2UNWIIRAuFSAKCxgKxdjn2v9owj1kZRw5Lyk8+kdgCgjCYu
lj+S2q3aalpgmNkkZ2vhWQo=
=e2NX
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00030.html">Date Prev</a>][<a href="msg00032.html">Date Next</a>] &nbsp; [<a href="msg00030.html">Thread Prev</a>][<a href="msg00032.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00031">Thread Index</A>]
[<A HREF="date.html#00031">Date Index</A>]
[<A HREF="author.html#00031">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>

<!-- MHonArc v2.6.12 -->
<!--X-Subject: [RHSA&#45;2009:1278&#45;02] Low: lftp security and bug fix update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Wed, 2 Sep 2009 03:43:17 &#45;0400 -->
<!--X-Message-Id: 200909020743.n827hGp5008885@int&#45;mx04.intmail.prod.int.phx2.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2009:1278-02] Low: lftp security and bug fix update</TITLE>
<LINK REV="made" HREF="mailto:bugzilla@redhat.com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00003.html">Date Prev</a>][<a href="msg00005.html">Date Next</a>] &nbsp; [<a href="msg00003.html">Thread Prev</a>][<a href="msg00005.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00004">Thread Index</A>]
[<A HREF="date.html#00004">Date Index</A>]
[<A HREF="author.html#00004">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2009:1278-02] Low: lftp security and bug fix update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Cc</em>: </li>
<li><em>Subject</em>: [RHSA-2009:1278-02] Low: lftp security and bug fix update</li>
<li><em>Date</em>: Wed, 2 Sep 2009 03:43:16 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Low: lftp security and bug fix update
Advisory ID:       RHSA-2009:1278-02
Product:           Red Hat Enterprise Linux
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2009-1278.html">https://rhn.redhat.com/errata/RHSA-2009-1278.html</a>
Issue date:        2009-09-02
CVE Names:         CVE-2007-2348 
=====================================================================

1. Summary:

An updated lftp package that fixes one security issue and various bugs is
now available for Red Hat Enterprise Linux 5.

This update has been rated as having low security impact by the Red Hat
Security Response Team.

2. Relevant releases/architectures:

Red Hat Enterprise Linux Desktop (v. 5 client) - i386, x86_64
Red Hat Enterprise Linux (v. 5 server) - i386, ia64, ppc, s390x, x86_64

3. Description:

LFTP is a sophisticated file transfer program for the FTP and HTTP
protocols. Like bash, it has job control and uses the readline library for
input. It has bookmarks, built-in mirroring, and can transfer several files
in parallel. It is designed with reliability in mind.

It was discovered that lftp did not properly escape shell metacharacters
when generating shell scripts using the &quot;mirror --script&quot; command. A
mirroring script generated to download files from a malicious FTP server
could allow an attacker controlling the FTP server to run an arbitrary
command as the user running lftp. (CVE-2007-2348)

This update also fixes the following bugs:

* when using the &quot;mirror&quot; or &quot;get&quot; commands with the &quot;-c&quot; option, lftp did
not check for some specific conditions that could result in the program
becoming unresponsive, hanging and the command not completing. For example,
when waiting for a directory listing, if lftp received a &quot;226&quot; message,
denoting an empty directory, it previously ignored the message and kept
waiting. With this update, these conditions are properly checked for and
lftp no longer hangs when &quot;-c&quot; is used with &quot;mirror&quot; or &quot;get&quot;. (BZ#422881)

* when using the &quot;put&quot;, &quot;mput&quot; or &quot;reput&quot; commands over a Secure FTP (SFTP)
connection, specifying the &quot;-c&quot; option sometimes resulted in corrupted
files of incorrect size. With this update, using these commands over SFTP
with the &quot;-c&quot; option works as expected, and transferred files are no
longer corrupted in the transfer process. (BZ#434294)

* previously, LFTP linked to the OpenSSL library. OpenSSL's license is,
however, incompatible with LFTP's GNU GPL license and LFTP does not include
an exception allowing OpenSSL linking. With this update, LFTP links to the
GnuTLS (GNU Transport Layer Security) library, which is released under the
GNU LGPL license. Like OpenSSL, GnuTLS implements the SSL and TLS
protocols, so functionality has not changed. (BZ#458777)

* running &quot;help mirror&quot; from within lftp only presented a sub-set of the
available options compared to the full list presented in the man page. With
this update, running &quot;help mirror&quot; in lftp presents the same list of mirror
options as is available in the Commands section of the lftp man page.
(BZ#461922)

* LFTP imports gnu-lib from upstream. Subsequent to gnu-lib switching from
GNU GPLv2 to GNU GPLv3, the LFTP license was internally inconsistent, with
LFTP licensed as GNU GPLv2 but portions of the package apparently licensed
as GNU GPLv3 because of changes made by the gnu-lib import. With this
update, LFTP itself switches to GNU GPLv3, resolving the inconsistency.
(BZ#468858)

* when the &quot;ls&quot; command was used within lftp to present a directory listing
on a remote system connected to via HTTP, file names containing spaces were
presented incorrectly. This update corrects this behavior. (BZ#504591)

* the default alias &quot;edit&quot; did not define a default editor. If EDITOR was
not set in advance by the system, lftp attempted to execute
&quot;~/.lftp/edit.tmp.$$&quot; (which failed because the file is not set to
executable). The edit alias also did not support tab-completion of file
names and incorrectly interpreted file names containing spaces. The updated
package defines a default editor (vi) in the absence of a system-defined
EDITOR. The edit alias now also supports tab-completion and handles file
names containing spaces correctly for both downloading and uploading.
(BZ#504594)

Note: This update upgrades LFTP from version 3.7.3 to upstream version
3.7.11, which incorporates a number of further bug fixes to those noted
above. For details regarding these fixes, refer to the
&quot;/usr/share/doc/lftp-3.7.11/NEWS&quot; file after installing this update.
(BZ#308721)

All LFTP users are advised to upgrade to this updated package, which
resolves these issues.

4. Solution:

Before applying this update, make sure that all previously-released
errata relevant to your system have been applied.

This update is available via Red Hat Network. Details on how to use
the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="http://kbase.redhat.com/faq/docs/DOC-11259">http://kbase.redhat.com/faq/docs/DOC-11259</a>

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

236238 - CVE-2007-2348 lftp mirror --script does not escape names and targets of symbolic links
239334 - lftp affected by problems described in CVE-2007-2348
308721 - bump lftp to current version 3.7.11
422881 - Using lftp with -c options causes hangs
434294 - lftp corrupts data when using (m)put's -c option on sftp transport
461922 - [RHEL 5] lftp 'help mirror' does not display all options defined in manpage.

6. Package List:

Red Hat Enterprise Linux Desktop (v. 5 client):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/lftp-3.7.11-4.el5.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/lftp-3.7.11-4.el5.src.rpm</a>

i386:
lftp-3.7.11-4.el5.i386.rpm
lftp-debuginfo-3.7.11-4.el5.i386.rpm

x86_64:
lftp-3.7.11-4.el5.x86_64.rpm
lftp-debuginfo-3.7.11-4.el5.x86_64.rpm

Red Hat Enterprise Linux (v. 5 server):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/lftp-3.7.11-4.el5.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/lftp-3.7.11-4.el5.src.rpm</a>

i386:
lftp-3.7.11-4.el5.i386.rpm
lftp-debuginfo-3.7.11-4.el5.i386.rpm

ia64:
lftp-3.7.11-4.el5.ia64.rpm
lftp-debuginfo-3.7.11-4.el5.ia64.rpm

ppc:
lftp-3.7.11-4.el5.ppc.rpm
lftp-debuginfo-3.7.11-4.el5.ppc.rpm

s390x:
lftp-3.7.11-4.el5.s390x.rpm
lftp-debuginfo-3.7.11-4.el5.s390x.rpm

x86_64:
lftp-3.7.11-4.el5.x86_64.rpm
lftp-debuginfo-3.7.11-4.el5.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and 
details on how to verify the signature are available from
<a  rel="nofollow" href="https://www.redhat.com/security/team/key/#package">https://www.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2348">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-2348</a>
<a  rel="nofollow" href="http://www.redhat.com/security/updates/classification/#low">http://www.redhat.com/security/updates/classification/#low</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://www.redhat.com/security/team/contact/">https://www.redhat.com/security/team/contact/</a>

Copyright 2009 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFKniHxXlSAg2UNWIIRAlzgAKCE1NU6vFwhr4Z5HyKgmwTmmFQo8ACfULfB
U6hHfR9R2/d056QXyHwgWsk=
=Trc4
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00003.html">Date Prev</a>][<a href="msg00005.html">Date Next</a>] &nbsp; [<a href="msg00003.html">Thread Prev</a>][<a href="msg00005.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00004">Thread Index</A>]
[<A HREF="date.html#00004">Date Index</A>]
[<A HREF="author.html#00004">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>

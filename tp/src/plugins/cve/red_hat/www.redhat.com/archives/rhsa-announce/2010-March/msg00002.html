<!-- MHonArc v2.6.16 -->
<!--X-Subject: [RHSA&#45;2010:0126&#45;01] Important: kvm security and bug fix update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Mon, 1 Mar 2010 14:26:47 &#45;0500 -->
<!--X-Message-Id: 201003011926.o21JQf0e013991@int&#45;mx08.intmail.prod.int.phx2.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2010:0126-01] Important: kvm security and bug fix update</TITLE>
<LINK REV="made" HREF="mailto:bugzilla redhat com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00001.html">Date Prev</a>][<a href="msg00003.html">Date Next</a>] &nbsp; [<a href="msg00001.html">Thread Prev</a>][<a href="msg00003.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00002">Thread Index</A>]
[<A HREF="date.html#00002">Date Index</A>]
[<A HREF="author.html#00002">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2010:0126-01] Important: kvm security and bug fix update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Subject</em>: [RHSA-2010:0126-01] Important: kvm security and bug fix update</li>
<li><em>Date</em>: Mon, 1 Mar 2010 14:26:41 -0500</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Important: kvm security and bug fix update
Advisory ID:       RHSA-2010:0126-01
Product:           Red Hat Enterprise Linux
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2010-0126.html">https://rhn.redhat.com/errata/RHSA-2010-0126.html</a>
Issue date:        2010-03-01
CVE Names:         CVE-2009-3722 CVE-2010-0419 
=====================================================================

1. Summary:

Updated kvm packages that fix two security issues and two bugs are now
available for Red Hat Enterprise Linux 5.

This update has been rated as having important security impact by the Red
Hat Security Response Team.

2. Relevant releases/architectures:

RHEL Desktop Multi OS (v. 5 client) - x86_64
RHEL Virtualization (v. 5 server) - x86_64

3. Description:

KVM (Kernel-based Virtual Machine) is a full virtualization solution for
Linux on AMD64 and Intel 64 systems. KVM is a Linux kernel module built for
the standard Red Hat Enterprise Linux kernel.

A flaw was found in the way the x86 emulator loaded segment selectors (used
for memory segmentation and protection) into segment registers. In some
guest system configurations, an unprivileged guest user could leverage this
flaw to crash the guest or possibly escalate their privileges within the
guest. (CVE-2010-0419)

The x86 emulator implementation was missing a check for the Current
Privilege Level (CPL) while accessing debug registers. An unprivileged
user in a guest could leverage this flaw to crash the guest.
(CVE-2009-3722)

This update also fixes the following bugs:

With Red Hat Enterprise Virtualization, the virtio_blk_dma_restart_bh()
function was previously used to handle write errors; however, a bug fix
provided by the RHSA-2009:1659 update meant that read errors would also
have to be handled by this function. The function was not updated for this,
causing read errors to be resubmitted as writes. This caused guest image
corruption in some cases.

Additionally, the return values of the bdrv_aio_write() and bdrv_aio_read()
functions were ignored. If an immediate failure occurred in one of these
functions, errors would be missed and the guest could hang or read
corrupted data. (BZ#562776)

All KVM users should upgrade to these updated packages, which contain
backported patches to resolve these issues. Note: The procedure in the
Solution section must be performed before this update will take effect.

4. Solution:

Before applying this update, make sure that all previously-released
errata relevant to your system have been applied.

This update is available via Red Hat Network.  Details on how to use
the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="http://kbase.redhat.com/faq/docs/DOC-11259">http://kbase.redhat.com/faq/docs/DOC-11259</a>

The following procedure must be performed before this update will take
effect:

1) Stop all KVM guest virtual machines.

2) Either reboot the hypervisor machine or, as the root user, remove (using
&quot;modprobe -r [module]&quot;) and reload (using &quot;modprobe [module]&quot;) all of the
following modules which are currently running (determined using &quot;lsmod&quot;):
kvm, ksm, kvm-intel or kvm-amd.

3) Restart the KVM guest virtual machines.

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

531660 - CVE-2009-3722 KVM: Check cpl before emulating debug register access
562776 - Guest image corruption after RHEV-H update to 5.4-2.1.3.el5_4rhev2_1 using virtio-blk
563463 - CVE-2010-0419 kvm: emulator privilege escalation segment selector check

6. Package List:

RHEL Desktop Multi OS (v. 5 client):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/kvm-83-105.el5_4.27.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/kvm-83-105.el5_4.27.src.rpm</a>

x86_64:
kmod-kvm-83-105.el5_4.27.x86_64.rpm
kvm-83-105.el5_4.27.x86_64.rpm
kvm-debuginfo-83-105.el5_4.27.x86_64.rpm
kvm-qemu-img-83-105.el5_4.27.x86_64.rpm
kvm-tools-83-105.el5_4.27.x86_64.rpm

RHEL Virtualization (v. 5 server):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/kvm-83-105.el5_4.27.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/kvm-83-105.el5_4.27.src.rpm</a>

x86_64:
kmod-kvm-83-105.el5_4.27.x86_64.rpm
kvm-83-105.el5_4.27.x86_64.rpm
kvm-debuginfo-83-105.el5_4.27.x86_64.rpm
kvm-qemu-img-83-105.el5_4.27.x86_64.rpm
kvm-tools-83-105.el5_4.27.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and 
details on how to verify the signature are available from
<a  rel="nofollow" href="https://www.redhat.com/security/team/key/#package">https://www.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="https://www.redhat.com/security/data/cve/CVE-2009-3722.html">https://www.redhat.com/security/data/cve/CVE-2009-3722.html</a>
<a  rel="nofollow" href="https://www.redhat.com/security/data/cve/CVE-2010-0419.html">https://www.redhat.com/security/data/cve/CVE-2010-0419.html</a>
<a  rel="nofollow" href="http://www.redhat.com/security/updates/classification/#important">http://www.redhat.com/security/updates/classification/#important</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://www.redhat.com/security/team/contact/">https://www.redhat.com/security/team/contact/</a>

Copyright 2010 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFLjBTcXlSAg2UNWIIRAtc6AJ9WlMpAXR4WgLAd5z0MgYPZCDhkXgCglVl4
eEJTq1IxIN2Z6Yc9cjNj2MI=
=3in0
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00001.html">Date Prev</a>][<a href="msg00003.html">Date Next</a>] &nbsp; [<a href="msg00001.html">Thread Prev</a>][<a href="msg00003.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00002">Thread Index</A>]
[<A HREF="date.html#00002">Date Index</A>]
[<A HREF="author.html#00002">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>

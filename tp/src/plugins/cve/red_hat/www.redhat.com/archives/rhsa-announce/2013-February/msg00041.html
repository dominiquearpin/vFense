<!-- MHonArc v2.6.16 -->
<!--X-Subject: [RHSA&#45;2013:0277&#45;02] Moderate: dnsmasq security,	bug fix and enhancement update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Thu, 21 Feb 2013 01:20:36 &#45;0500 -->
<!--X-Message-Id: 201302210620.r1L6KYxM024398@int&#45;mx09.intmail.prod.int.phx2.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2013:0277-02] Moderate: dnsmasq security,	bug fix and enhancement </TITLE>
<LINK REV="made" HREF="mailto:bugzilla redhat com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00040.html">Date Prev</a>][<a href="msg00042.html">Date Next</a>] &nbsp; [<a href="msg00040.html">Thread Prev</a>][<a href="msg00042.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00041">Thread Index</A>]
[<A HREF="date.html#00041">Date Index</A>]
[<A HREF="author.html#00041">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2013:0277-02] Moderate: dnsmasq security,	bug fix and enhancement update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Subject</em>: [RHSA-2013:0277-02] Moderate: dnsmasq security,	bug fix and enhancement update</li>
<li><em>Date</em>: Thu, 21 Feb 2013 06:09:32 +0000</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Moderate: dnsmasq security, bug fix and enhancement update
Advisory ID:       RHSA-2013:0277-02
Product:           Red Hat Enterprise Linux
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2013-0277.html">https://rhn.redhat.com/errata/RHSA-2013-0277.html</a>
Issue date:        2013-02-21
CVE Names:         CVE-2012-3411 
=====================================================================

1. Summary:

Updated dnsmasq packages that fix one security issue, one bug, and add
various enhancements are now available for Red Hat Enterprise Linux 6.

The Red Hat Security Response Team has rated this update as having moderate
security impact. A Common Vulnerability Scoring System (CVSS) base score,
which gives a detailed severity rating, is available from the CVE link in
the References section.

2. Relevant releases/architectures:

Red Hat Enterprise Linux Desktop (v. 6) - i386, x86_64
Red Hat Enterprise Linux Desktop Optional (v. 6) - i386, x86_64
Red Hat Enterprise Linux HPC Node (v. 6) - x86_64
Red Hat Enterprise Linux HPC Node Optional (v. 6) - x86_64
Red Hat Enterprise Linux Server (v. 6) - i386, ppc64, s390x, x86_64
Red Hat Enterprise Linux Server Optional (v. 6) - i386, ppc64, s390x, x86_64
Red Hat Enterprise Linux Workstation (v. 6) - i386, x86_64
Red Hat Enterprise Linux Workstation Optional (v. 6) - i386, x86_64

3. Description:

The dnsmasq packages contain Dnsmasq, a lightweight DNS (Domain Name
Server) forwarder and DHCP (Dynamic Host Configuration Protocol) server.

It was discovered that dnsmasq, when used in combination with certain
libvirtd configurations, could incorrectly process network packets from
network interfaces that were intended to be prohibited. A remote,
unauthenticated attacker could exploit this flaw to cause a denial of
service via DNS amplification attacks. (CVE-2012-3411)

In order to fully address this issue, libvirt package users are advised to
install updated libvirt packages. Refer to RHSA-2013:0276 for additional
information.

This update also fixes the following bug:

* Due to a regression, the lease change script was disabled. Consequently,
the &quot;dhcp-script&quot; option in the /etc/dnsmasq.conf configuration file did
not work. This update corrects the problem and the &quot;dhcp-script&quot; option now
works as expected. (BZ#815819)

This update also adds the following enhancements:

* Prior to this update, dnsmasq did not validate that the tftp directory
given actually existed and was a directory. Consequently, configuration
errors were not immediately reported on startup. This update improves the
code to validate the tftp root directory option. As a result, fault finding
is simplified especially when dnsmasq is called by external processes such
as libvirt. (BZ#824214)

* The dnsmasq init script used an incorrect Process Identifier (PID) in the
&quot;stop&quot;, &quot;restart&quot;, and &quot;condrestart&quot; commands. Consequently, if there were
some dnsmasq instances running besides the system one started by the init
script, then repeated calling of &quot;service dnsmasq&quot; with &quot;stop&quot; or &quot;restart&quot;
would kill all running dnsmasq instances, including ones not started with
the init script. The dnsmasq init script code has been corrected to obtain
the correct PID when calling the &quot;stop&quot;, &quot;restart&quot;, and &quot;condrestart&quot;
commands. As a result, if there are dnsmasq instances running in addition
to the system one started by the init script, then by calling &quot;service
dnsmasq&quot; with &quot;stop&quot; or &quot;restart&quot; only the system one is stopped or
restarted. (BZ#850944)

* When two or more dnsmasq processes were running with DHCP enabled on one
interface, DHCP RELEASE packets were sometimes lost. Consequently, when two
or more dnsmasq processes were running with DHCP enabled on one interface,
releasing IP addresses sometimes failed. This update sets the
SO_BINDTODEVICE socket option on DHCP sockets if running dnsmasq with DHCP
enabled on one interface. As a result, when two or more dnsmasq processes
are running with DHCP enabled on one interface, they can release IP
addresses as expected. (BZ#887156)

All users of dnsmasq are advised to upgrade to these updated packages,
which fix these issues and add these enhancements.

4. Solution:

Before applying this update, make sure all previously-released errata
relevant to your system have been applied.

This update is available via the Red Hat Network. Details on how to
use the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="https://access.redhat.com/knowledge/articles/11258">https://access.redhat.com/knowledge/articles/11258</a>

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

833033 - CVE-2012-3411 libvirt+dnsmasq: DNS configured to answer DNS queries from non-virtual networks
850944 - &quot;service dnsmasq restart (or dnsmasq package update) kills all instances of dnsmasq on system, including those started by libvirtd
884957 - guest can not get NAT IP from dnsmasq-2.48-10

6. Package List:

Red Hat Enterprise Linux Desktop (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Client/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Client/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

i386:
dnsmasq-2.48-13.el6.i686.rpm
dnsmasq-debuginfo-2.48-13.el6.i686.rpm

x86_64:
dnsmasq-2.48-13.el6.x86_64.rpm
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux Desktop Optional (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Client/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Client/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

i386:
dnsmasq-debuginfo-2.48-13.el6.i686.rpm
dnsmasq-utils-2.48-13.el6.i686.rpm

x86_64:
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm
dnsmasq-utils-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux HPC Node (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

x86_64:
dnsmasq-2.48-13.el6.x86_64.rpm
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux HPC Node Optional (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6ComputeNode/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

x86_64:
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm
dnsmasq-utils-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux Server (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Server/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Server/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

i386:
dnsmasq-2.48-13.el6.i686.rpm
dnsmasq-debuginfo-2.48-13.el6.i686.rpm

ppc64:
dnsmasq-2.48-13.el6.ppc64.rpm
dnsmasq-debuginfo-2.48-13.el6.ppc64.rpm

s390x:
dnsmasq-2.48-13.el6.s390x.rpm
dnsmasq-debuginfo-2.48-13.el6.s390x.rpm

x86_64:
dnsmasq-2.48-13.el6.x86_64.rpm
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux Server Optional (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Server/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Server/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

i386:
dnsmasq-debuginfo-2.48-13.el6.i686.rpm
dnsmasq-utils-2.48-13.el6.i686.rpm

ppc64:
dnsmasq-debuginfo-2.48-13.el6.ppc64.rpm
dnsmasq-utils-2.48-13.el6.ppc64.rpm

s390x:
dnsmasq-debuginfo-2.48-13.el6.s390x.rpm
dnsmasq-utils-2.48-13.el6.s390x.rpm

x86_64:
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm
dnsmasq-utils-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux Workstation (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Workstation/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Workstation/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

i386:
dnsmasq-2.48-13.el6.i686.rpm
dnsmasq-debuginfo-2.48-13.el6.i686.rpm

x86_64:
dnsmasq-2.48-13.el6.x86_64.rpm
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm

Red Hat Enterprise Linux Workstation Optional (v. 6):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Workstation/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/6Workstation/en/os/SRPMS/dnsmasq-2.48-13.el6.src.rpm</a>

i386:
dnsmasq-debuginfo-2.48-13.el6.i686.rpm
dnsmasq-utils-2.48-13.el6.i686.rpm

x86_64:
dnsmasq-debuginfo-2.48-13.el6.x86_64.rpm
dnsmasq-utils-2.48-13.el6.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and
details on how to verify the signature are available from
<a  rel="nofollow" href="https://access.redhat.com/security/team/key/#package">https://access.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="https://www.redhat.com/security/data/cve/CVE-2012-3411.html">https://www.redhat.com/security/data/cve/CVE-2012-3411.html</a>
<a  rel="nofollow" href="https://access.redhat.com/security/updates/classification/#moderate">https://access.redhat.com/security/updates/classification/#moderate</a>
<a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2013-0276.html">https://rhn.redhat.com/errata/RHSA-2013-0276.html</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://access.redhat.com/security/team/contact/">https://access.redhat.com/security/team/contact/</a>

Copyright 2013 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFRJbynXlSAg2UNWIIRAvO7AKC9DX720FbYDvxil9RlNiiZHmN2TQCglV5s
c8EDGXAb588QM/PyzO8J+9A=
=GXp0
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00040.html">Date Prev</a>][<a href="msg00042.html">Date Next</a>] &nbsp; [<a href="msg00040.html">Thread Prev</a>][<a href="msg00042.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00041">Thread Index</A>]
[<A HREF="date.html#00041">Date Index</A>]
[<A HREF="author.html#00041">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>

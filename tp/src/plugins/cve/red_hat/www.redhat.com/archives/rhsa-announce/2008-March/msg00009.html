<!-- MHonArc v2.6.12 -->
<!--X-Subject: [RHSA&#45;2008:0164&#45;01] Critical: krb5 security and bugfix update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Tue, 18 Mar 2008 15:42:17 &#45;0400 -->
<!--X-Message-Id: 200803181942.m2IJgGwf006850@pobox.devel.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2008:0164-01] Critical: krb5 security and bugfix update</TITLE>
<LINK REV="made" HREF="mailto:bugzilla@redhat.com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00008.html">Date Prev</a>][<a href="msg00010.html">Date Next</a>] &nbsp; [<a href="msg00008.html">Thread Prev</a>][<a href="msg00010.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00009">Thread Index</A>]
[<A HREF="date.html#00009">Date Index</A>]
[<A HREF="author.html#00009">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2008:0164-01] Critical: krb5 security and bugfix update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Cc</em>: </li>
<li><em>Subject</em>: [RHSA-2008:0164-01] Critical: krb5 security and bugfix update</li>
<li><em>Date</em>: Tue, 18 Mar 2008 15:42:16 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Critical: krb5 security and bugfix update
Advisory ID:       RHSA-2008:0164-01
Product:           Red Hat Enterprise Linux
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2008-0164.html">https://rhn.redhat.com/errata/RHSA-2008-0164.html</a>
Issue date:        2008-03-18
CVE Names:         CVE-2007-5901 CVE-2007-5971 CVE-2008-0062 
                   CVE-2008-0063 CVE-2008-0947 
=====================================================================

1. Summary:

Updated krb5 packages that resolve several issues and fix multiple bugs are
now available for Red Hat Enterprise Linux 5.

This update has been rated as having critical security impact by the Red
Hat Security Response Team.

2. Relevant releases/architectures:

Red Hat Enterprise Linux Desktop (v. 5 client) - i386, x86_64
RHEL Desktop Workstation (v. 5 client) - i386, x86_64
Red Hat Enterprise Linux (v. 5 server) - i386, ia64, ppc, s390x, x86_64

3. Description:

Kerberos is a network authentication system which allows clients and
servers to authenticate to each other through use of symmetric encryption
and a trusted third party, the KDC.

A flaw was found in the way the MIT Kerberos Authentication Service and Key
Distribution Center server (krb5kdc) handled Kerberos v4 protocol packets.
An unauthenticated remote attacker could use this flaw to crash the
krb5kdc daemon, disclose portions of its memory, or possibly execute
arbitrary code using malformed or truncated Kerberos v4 protocol requests.
(CVE-2008-0062, CVE-2008-0063)

This issue only affected krb5kdc with Kerberos v4 protocol compatibility
enabled, which is the default setting on Red Hat Enterprise Linux 4.
Kerberos v4 protocol support can be disabled by adding &quot;v4_mode=none&quot;
(without the quotes) to the &quot;[kdcdefaults]&quot; section of
/var/kerberos/krb5kdc/kdc.conf.

Jeff Altman of Secure Endpoints discovered a flaw in the RPC library as
used by MIT Kerberos kadmind server. An unauthenticated remote attacker
could use this flaw to crash kadmind or possibly execute arbitrary code.
This issue only affected systems with certain resource limits configured
and did not affect systems using default resource limits used by Red Hat
Enterprise Linux 5. (CVE-2008-0947)

Red Hat would like to thank MIT for reporting these issues.

Multiple memory management flaws were discovered in the GSSAPI library used
by MIT Kerberos. These flaws could possibly result in use of already freed
memory or an attempt to free already freed memory blocks (double-free
flaw), possibly causing a crash or arbitrary code execution.
(CVE-2007-5901, CVE-2007-5971)

In addition to the security issues resolved above, the following bugs were
also fixed:

* delegated krb5 credentials were not properly stored when SPNEGO was the
underlying mechanism during GSSAPI authentication. Consequently,
applications attempting to copy delegated Kerberos 5 credentials into a
credential cache received an &quot;Invalid credential was supplied&quot; message
rather than a copy of the delegated credentials. With this update, SPNEGO
credentials can be properly searched, allowing applications to copy
delegated credentials as expected.

* applications can initiate context acceptance (via gss_accept_sec_context)
without passing a ret_flags value that would indicate that credentials were
delegated. A delegated credential handle should have been returned in such
instances. This updated package adds a temp_ret_flag that stores the
credential status in the event no other ret_flags value is passed by an
application calling gss_accept_sec_context.

* kpasswd did not fallback to TCP on receipt of certain errors, or when a
packet was too big for UDP. This update corrects this.

* when the libkrb5 password-routine generated a set-password or
change-password request, incorrect sequence numbers were generated for all
requests subsequent to the first request. This caused password change
requests to fail if the primary server was unavailable. This updated
package corrects this by saving the sequence number value after the AP-REQ
data is built and restoring this value before the request is generated.

* when a user's password expired, kinit would not prompt that user to
change the password, instead simply informing the user their password had
expired. This update corrects this behavior: kinit now prompts for a new
password to be set when a password has expired.

All krb5 users are advised to upgrade to these updated packages, which
contain backported fixes to address these vulnerabilities and fix these
bugs.

4. Solution:

Before applying this update, make sure that all previously-released
errata relevant to your system have been applied.

This update is available via Red Hat Network.  Details on how to use
the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="http://kbase.redhat.com/faq/FAQ_58_10188">http://kbase.redhat.com/faq/FAQ_58_10188</a>

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

415321 - CVE-2007-5901 krb5: use-after-free in gssapi lib
415351 - CVE-2007-5971 krb5: double free in gssapi lib
432620 - CVE-2008-0062 krb5: uninitialized pointer use in krb5kdc
432621 - CVE-2008-0063 krb5: possible leak of sensitive data from krb5kdc using krb4 request
433596 - CVE-2008-0947 krb5: file descriptor array overflow in RPC library
436460 - gss_krb5_copy_ccache can't find delegated Kerberos creds when using SPNEGO
436465 - gss_init_sec_context() mechglue wrapper doesn't handle ret_flags right
436467 - kpasswd does not fallback to tcp
436468 - krb5 password changing uses incorrect sequence numbers for every server but the first
436470 - kinit does not automatically start a password change when password is expired

6. Package List:

Red Hat Enterprise Linux Desktop (v. 5 client):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/krb5-1.6.1-17.el5_1.1.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/krb5-1.6.1-17.el5_1.1.src.rpm</a>

i386:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-libs-1.6.1-17.el5_1.1.i386.rpm
krb5-workstation-1.6.1-17.el5_1.1.i386.rpm

x86_64:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-debuginfo-1.6.1-17.el5_1.1.x86_64.rpm
krb5-libs-1.6.1-17.el5_1.1.i386.rpm
krb5-libs-1.6.1-17.el5_1.1.x86_64.rpm
krb5-workstation-1.6.1-17.el5_1.1.x86_64.rpm

RHEL Desktop Workstation (v. 5 client):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/krb5-1.6.1-17.el5_1.1.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Client/en/os/SRPMS/krb5-1.6.1-17.el5_1.1.src.rpm</a>

i386:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-devel-1.6.1-17.el5_1.1.i386.rpm
krb5-server-1.6.1-17.el5_1.1.i386.rpm

x86_64:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-debuginfo-1.6.1-17.el5_1.1.x86_64.rpm
krb5-devel-1.6.1-17.el5_1.1.i386.rpm
krb5-devel-1.6.1-17.el5_1.1.x86_64.rpm
krb5-server-1.6.1-17.el5_1.1.x86_64.rpm

Red Hat Enterprise Linux (v. 5 server):

Source:
<a  rel="nofollow" href="ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/krb5-1.6.1-17.el5_1.1.src.rpm">ftp://ftp.redhat.com/pub/redhat/linux/enterprise/5Server/en/os/SRPMS/krb5-1.6.1-17.el5_1.1.src.rpm</a>

i386:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-devel-1.6.1-17.el5_1.1.i386.rpm
krb5-libs-1.6.1-17.el5_1.1.i386.rpm
krb5-server-1.6.1-17.el5_1.1.i386.rpm
krb5-workstation-1.6.1-17.el5_1.1.i386.rpm

ia64:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-debuginfo-1.6.1-17.el5_1.1.ia64.rpm
krb5-devel-1.6.1-17.el5_1.1.ia64.rpm
krb5-libs-1.6.1-17.el5_1.1.i386.rpm
krb5-libs-1.6.1-17.el5_1.1.ia64.rpm
krb5-server-1.6.1-17.el5_1.1.ia64.rpm
krb5-workstation-1.6.1-17.el5_1.1.ia64.rpm

ppc:
krb5-debuginfo-1.6.1-17.el5_1.1.ppc.rpm
krb5-debuginfo-1.6.1-17.el5_1.1.ppc64.rpm
krb5-devel-1.6.1-17.el5_1.1.ppc.rpm
krb5-devel-1.6.1-17.el5_1.1.ppc64.rpm
krb5-libs-1.6.1-17.el5_1.1.ppc.rpm
krb5-libs-1.6.1-17.el5_1.1.ppc64.rpm
krb5-server-1.6.1-17.el5_1.1.ppc.rpm
krb5-workstation-1.6.1-17.el5_1.1.ppc.rpm

s390x:
krb5-debuginfo-1.6.1-17.el5_1.1.s390.rpm
krb5-debuginfo-1.6.1-17.el5_1.1.s390x.rpm
krb5-devel-1.6.1-17.el5_1.1.s390.rpm
krb5-devel-1.6.1-17.el5_1.1.s390x.rpm
krb5-libs-1.6.1-17.el5_1.1.s390.rpm
krb5-libs-1.6.1-17.el5_1.1.s390x.rpm
krb5-server-1.6.1-17.el5_1.1.s390x.rpm
krb5-workstation-1.6.1-17.el5_1.1.s390x.rpm

x86_64:
krb5-debuginfo-1.6.1-17.el5_1.1.i386.rpm
krb5-debuginfo-1.6.1-17.el5_1.1.x86_64.rpm
krb5-devel-1.6.1-17.el5_1.1.i386.rpm
krb5-devel-1.6.1-17.el5_1.1.x86_64.rpm
krb5-libs-1.6.1-17.el5_1.1.i386.rpm
krb5-libs-1.6.1-17.el5_1.1.x86_64.rpm
krb5-server-1.6.1-17.el5_1.1.x86_64.rpm
krb5-workstation-1.6.1-17.el5_1.1.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and 
details on how to verify the signature are available from
<a  rel="nofollow" href="https://www.redhat.com/security/team/key/#package">https://www.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5901">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5901</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5971">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2007-5971</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0062">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0062</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0063">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0063</a>
<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0947">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-0947</a>
<a  rel="nofollow" href="http://www.redhat.com/security/updates/classification/#critical">http://www.redhat.com/security/updates/classification/#critical</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://www.redhat.com/security/team/contact/">https://www.redhat.com/security/team/contact/</a>

Copyright 2008 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFH4BsWXlSAg2UNWIIRAgIjAKC3Y/Uio/XeDWRBEALkK8wMvbOqMQCfbiIT
jxP6baLdyLdts1AGuvCZc/Q=
=Xdyg
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00008.html">Date Prev</a>][<a href="msg00010.html">Date Next</a>] &nbsp; [<a href="msg00008.html">Thread Prev</a>][<a href="msg00010.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00009">Thread Index</A>]
[<A HREF="date.html#00009">Date Index</A>]
[<A HREF="author.html#00009">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>

<!-- MHonArc v2.6.12 -->
<!--X-Subject: [RHSA&#45;2008:0680&#45;01] Moderate: vsftpd security and bug fix update -->
<!--X-From-R13: ohtmvyynNerqung.pbz -->
<!--X-Date: Thu, 24 Jul 2008 13:31:17 &#45;0400 -->
<!--X-Message-Id: 200807241731.m6OHVGkB022794@pobox.devel.redhat.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!--#include virtual="/header.html"-->
<!--#include virtual="/search.html"-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML//EN">
<HTML>
<HEAD>
<TITLE>[RHSA-2008:0680-01] Moderate: vsftpd security and bug fix update</TITLE>
<LINK REV="made" HREF="mailto:bugzilla@redhat.com">
</HEAD>
<BODY BGCOLOR="#FFFFFF">
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<HR>
[<a href="msg00030.html">Date Prev</a>][<a href="msg00032.html">Date Next</a>] &nbsp; [<a href="msg00030.html">Thread Prev</a>][<a href="msg00032.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00031">Thread Index</A>]
[<A HREF="date.html#00031">Date Index</A>]
[<A HREF="author.html#00031">Author Index</A>]

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[RHSA-2008:0680-01] Moderate: vsftpd security and bug fix update</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>From</em>: bugzilla redhat com</li>
<li><em>To</em>: rhsa-announce redhat com, enterprise-watch-list redhat com</li>
<li><em>Cc</em>: </li>
<li><em>Subject</em>: [RHSA-2008:0680-01] Moderate: vsftpd security and bug fix update</li>
<li><em>Date</em>: Thu, 24 Jul 2008 13:31:16 -0400</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA1

=====================================================================
                   Red Hat Security Advisory

Synopsis:          Moderate: vsftpd security and bug fix update
Advisory ID:       RHSA-2008:0680-01
Product:           Red Hat Enterprise Linux
Advisory URL:      <a  rel="nofollow" href="https://rhn.redhat.com/errata/RHSA-2008-0680.html">https://rhn.redhat.com/errata/RHSA-2008-0680.html</a>
Issue date:        2008-07-24
CVE Names:         CVE-2008-2375 
=====================================================================

1. Summary:

An updated vsftpd package that fixes a security issue and various bugs is
now available.

This update has been rated as having moderate security impact by the Red
Hat Security Response Team.

2. Relevant releases/architectures:

Red Hat Enterprise Linux AS version 4 - i386, ia64, ppc, s390, s390x, x86_64
Red Hat Enterprise Linux ES version 4 - i386, ia64, x86_64

3. Description:

vsftpd (Very Secure File Transfer Protocol (FTP) daemon) is a secure FTP
server for Linux and Unix-like systems.

The version of vsftpd as shipped in Red Hat Enterprise Linux 4 when used in
combination with Pluggable Authentication Modules (PAM) had a memory leak
on an invalid authentication attempt. Since vsftpd prior to version 2.0.5
allows any number of invalid attempts on the same connection this memory
leak could lead to an eventual DoS. (CVE-2008-2375)

This update mitigates this security issue by including a backported patch
which terminates a session after a given number of failed log in attempts.
The default number of attempts is 3 and this can be configured using the
&quot;max_login_fails&quot; directive.

This package also addresses the following bugs:

* when uploading unique files, a bug in vsftpd caused the file to be saved
with a suffix '.1' even when no previous file with that name existed. This
issues is resolved in this package.

* when vsftpd was run through the init script, it was possible for the init
script to print an 'OK' message, even though the vsftpd may not have
started. The init script no longer produces a false verification with this
update.

* vsftpd only supported usernames with a maximum length of 32 characters.
The updated package now supports usernames up to 128 characters long.

* a system flaw meant vsftpd output could become dependent on the timing or
sequence of other events, even when the &quot;lock_upload_files&quot; option was set.
If a file, filename.ext, was being uploaded and a second transfer of the
file, filename.ext, was started before the first transfer was finished, the
resultant uploaded file was a corrupt concatenation of the latter upload
and the tail of the earlier upload. With this updated package, vsftpd
allows the earlier upload to complete before overwriting with the latter
upload, fixing the issue.

* the 'lock_upload_files' option was not documented in the manual page. A
new manual page describing this option is included in this package.

* vsftpd did not support usernames that started with an underscore or a
period character. These special characters are now allowed at the beginning
of a username.

* when storing a unique file, vsftpd could cause an error for some clients.
This is rectified in this package.

* vsftpd init script was found to not be Linux Standards Base compliant.
This update corrects their exit codes to conform to the standard.

All vsftpd users are advised to upgrade to this updated package, which
resolves these issues.

4. Solution:

Before applying this update, make sure that all previously-released
errata relevant to your system have been applied.

This update is available via Red Hat Network.  Details on how to use
the Red Hat Network to apply this update are available at
<a  rel="nofollow" href="http://kbase.redhat.com/faq/FAQ_58_10188">http://kbase.redhat.com/faq/FAQ_58_10188</a>

5. Bugs fixed (<a  rel="nofollow" href="http://bugzilla.redhat.com/">http://bugzilla.redhat.com/</a>):

197141 - vsftpd 2.0.1 memory leak
206843 - vsftpd is checked wrongly in init script
236326 - maximum username length too short
240550 - vsftpd has a create/lock race condition which corrupts uploads
250727 - Uploaded file corrupted when two connections from same client uploading same file simultaneously
316381 - lock_upload_files not documented in vsftpd.conf man page
408431 - Memory leak in pattern matching function
431450 - Wrong init script
453376 - CVE-2008-2375 older vsftpd authentication memory leak

6. Package List:

Red Hat Enterprise Linux AS version 4:

Source:
<a  rel="nofollow" href="ftp://updates.redhat.com/enterprise/4AS/en/os/SRPMS/vsftpd-2.0.1-6.el4.src.rpm">ftp://updates.redhat.com/enterprise/4AS/en/os/SRPMS/vsftpd-2.0.1-6.el4.src.rpm</a>

i386:
vsftpd-2.0.1-6.el4.i386.rpm
vsftpd-debuginfo-2.0.1-6.el4.i386.rpm

ia64:
vsftpd-2.0.1-6.el4.ia64.rpm
vsftpd-debuginfo-2.0.1-6.el4.ia64.rpm

ppc:
vsftpd-2.0.1-6.el4.ppc.rpm
vsftpd-debuginfo-2.0.1-6.el4.ppc.rpm

s390:
vsftpd-2.0.1-6.el4.s390.rpm
vsftpd-debuginfo-2.0.1-6.el4.s390.rpm

s390x:
vsftpd-2.0.1-6.el4.s390x.rpm
vsftpd-debuginfo-2.0.1-6.el4.s390x.rpm

x86_64:
vsftpd-2.0.1-6.el4.x86_64.rpm
vsftpd-debuginfo-2.0.1-6.el4.x86_64.rpm

Red Hat Enterprise Linux ES version 4:

Source:
<a  rel="nofollow" href="ftp://updates.redhat.com/enterprise/4ES/en/os/SRPMS/vsftpd-2.0.1-6.el4.src.rpm">ftp://updates.redhat.com/enterprise/4ES/en/os/SRPMS/vsftpd-2.0.1-6.el4.src.rpm</a>

i386:
vsftpd-2.0.1-6.el4.i386.rpm
vsftpd-debuginfo-2.0.1-6.el4.i386.rpm

ia64:
vsftpd-2.0.1-6.el4.ia64.rpm
vsftpd-debuginfo-2.0.1-6.el4.ia64.rpm

x86_64:
vsftpd-2.0.1-6.el4.x86_64.rpm
vsftpd-debuginfo-2.0.1-6.el4.x86_64.rpm

These packages are GPG signed by Red Hat for security.  Our key and 
details on how to verify the signature are available from
<a  rel="nofollow" href="https://www.redhat.com/security/team/key/#package">https://www.redhat.com/security/team/key/#package</a>

7. References:

<a  rel="nofollow" href="http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2375">http://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2008-2375</a>
<a  rel="nofollow" href="http://www.redhat.com/security/updates/classification/#moderate">http://www.redhat.com/security/updates/classification/#moderate</a>

8. Contact:

The Red Hat security contact is &lt;secalert redhat com&gt;.  More contact
details at <a  rel="nofollow" href="https://www.redhat.com/security/team/contact/">https://www.redhat.com/security/team/contact/</a>

Copyright 2008 Red Hat, Inc.
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v1.4.4 (GNU/Linux)

iD8DBQFIiLxjXlSAg2UNWIIRAtYVAJ4tHv04keg0koYFqpZdmTk3EQjwPwCgreNP
tHUJ4dM2RbOceKZaZ+Tz0Gg=
=wnyk
-----END PGP SIGNATURE-----


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
[<a href="msg00030.html">Date Prev</a>][<a href="msg00032.html">Date Next</a>] &nbsp; [<a href="msg00030.html">Thread Prev</a>][<a href="msg00032.html">Thread Next</a>] &nbsp; 
[<A HREF="thread.html#00031">Thread Index</A>]
[<A HREF="date.html#00031">Date Index</A>]
[<A HREF="author.html#00031">Author Index</A>]

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<!--#include virtual="/footer.html"-->
</body>
</html>
